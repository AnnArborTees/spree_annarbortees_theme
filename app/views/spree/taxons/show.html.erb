
<div id="taxon-nav-and-products" class="container">
  <div id="homepage-left-column" class="taxonomies-top hidden-xs col-sm-4 col-md-3">
    <%= render :partial => 'spree/shared/taxonomies' %>
  </div>

  <div id="homepage-right-column" class="col-sm-8 col-md-9">
    <div id="products">
      <%= render partial: 'spree/shared/pagination', locals: { products: @products}  %>
      <%
         #cache(cache_key_for_products) do
      %>
          <%= render :partial => 'spree/shared/products', :locals => { :products => @products, taxon: @taxon } %>
      <%
         #end
      %>
      <%= render partial: 'spree/shared/pagination', locals: { products: @products}  %>
    </div>

    <% unless params[:keywords].present? %>
        <div data-hook="taxon_children">
          <% cache [I18n.locale, @taxon] do %>
              <%= render :partial => 'taxon', :collection => @taxon.children %>
          <% end %>
        </div>
    <% end %>
  </div>

  <div id="homepage-left-column" class="taxonomies-bottom visible-xs">
    <%= render :partial => 'spree/shared/taxonomies' %>
  </div>


</div>

